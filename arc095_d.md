## ARC 095 F -  Colorful Sequence

### YES となる条件

構築可能なときにはキャタピラグラフです。
理由なのですが、$p _ i$ の小さい順に見て、
今まで見たものの中で最大添え字であるようなもの列を、$\varphi ( p )$ とあわらします。
すると、任意の頂点は $\varphi( p )$ への距離が $1$ 以下です。

### 構成

辞書順最小はさておきです。
直径を一つとって、それ以外の点を各々隣接する直径の各点に関連付けましょう。
こうしてできたグループの要素数の列をかんがえます。

この列を要素数とするように、$[0, n[ \cap \mathbb Z$ を chunking しましょう。
そうして、そのグループの各々を $\mathtt { rotate \_ left }$ しましょう。

するとこれは答えの一つであることがわかります。

### 辞書順最小

キャタピラグラフの中で、$\varphi( p )$ になりうるのは、内部頂点全部をつなげたものの、
両端に葉をつけてもつけなくてもといった感じです。

いろいろ考えると（え？）、直径の向き $2$ 通りだけを試せば良いことがわかります。

