### ARC 090 C - Candies

曲がる場所を全探索です。


### ARC 090 D - People on a Line

各人の座標を BFS で決めていきます。
$(l, r, d)$ の逆辺 $(r, l, -d)$ を忘れずに入れておきましょう。


### ARC 090 E - Avoiding Collision

衝突する方を数えましょう。
衝突する箇所は中間地点です。頂点だったり辺だったりします。

$s$ から $t$ までの最短距離が $D$ だとして、次のようなものが中間地点です。
- 最短経路上にあり、$s$ からも $t$ からも距離が $D / 2$ であるような頂点と、
- 最短経路上にあり、各々の端点から近い方の $s, t$ への距離が $D / 2$ 未満であるような辺です。

まずこれの探し方です。一つのやり方は、$s, t$ それぞれからの最短距離を計算しておくことです。
すると、こうです。
- 頂点 $x$ が最短経路上にある条件は、$d ( s, x ) = d ( x, t )$ です。
- 辺 $(u, v, w)$ が最短経路上にある条件は、$\min ( d ( s, u ), d( t, u ) ), \min ( d ( s, v ), d( t, v ) ) < D / 2$ です。

もう一つのやり方なのですが、$s$ からの最短距離だけを計算しておく方法もあります。
こちらのほうがトリッキーですが、必要最低限の処理で済みます。
$s$ からの遠い順に、次のように決まります。
- 頂点 $t$ は最短経路上にあります。
- 辺 $(u, v, t)$ を考えましょう。頂点 $v$ が最短経路上にあり、さらに $d(s, u) + w = d ( s, v )$ を満たすとき、この辺は最短経路上にあります。

さて、今度は両側から各点へ、最短経路上にある頂点・辺のみを使っていく経路の数 $m _ { s , x }, m _ { t , x }$ を数えておきましょう。
すると、衝突する場合の数は、こちらです。$V ', E ' $ は最短経路上にある頂点や辺の集合です。
$$
    \sum _ { x \in V ' } ( m _ { s, x } m _ { t , x } ) ^ 2
     + \sum _ { (u, v, w) \in E ' } ( m _ { s, u } m _ { t , v } ) ^ 2
$$


#### 注意

辺 $(u, v, w)$ を考えましょう。
いいですか？ 端点 $u, v$ が最短経路上にあることと、この辺が最短経路上にあることは同値ではありません。（泣）


### ARC 090 F - Number of Digits

まず $l$ と $r$ が $2$ 桁以上違うパターンがそんなにないことに気づくとよいです。
具体的には、$l$ が $8$ 桁以上になると、$r$ とは高々 $1$ 桁違いにになります。
そこで、$7$ 桁以下は予め尺取り法で $l$ を全探索しておきましょう。

桁数の差が $1$ 以下の場合については、$r - l$ か桁数かを決め打ちすると高速に求めることができます。



