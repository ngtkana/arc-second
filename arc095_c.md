## ARC 095 E - Symmetric Grid

### 方針

列の入れ替えを、本質的に同じものは除いて $W!!$ 通り全探索です。
それぞれに関して、行の配置を適切な貪欲で定めます。　

### 列の入れ替えの生成

まず $W$ が奇数のときは、中心を全探索して、$W - 1$ のとき場合に帰着です。

$W - 1$ が偶数のときには、対称な位置にあるペアに分ける感じで、`Vec<(usize, usize)>` を作っていきます。
第一成分は今まで使っていない最小なもの、第二成分は全通りです。


### 行の貪欲

実はこちらが難しいです。
互いに $\mathtt { reverse }$ の関係になっているものがあれば、対消滅です。
これを繰り返して、「本当にわかっている人ならば全消し、どんなに間違えても回文 1 つ」になればよいです。

